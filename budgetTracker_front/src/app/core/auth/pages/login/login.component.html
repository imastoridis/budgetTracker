<div class="max-w-md mx-auto mt-12 p-8 bg-white shadow-lg rounded-xl border border-gray-200">
  <h1 id="login-header" class="text-3xl font-bold text-gray-800 mb-6 flex flex-row justify-center items-center gap-2">
    <div>Login ðŸ”‘ </div>
    @if (spinnerDisabled()){<div><mat-spinner [diameter]="30"></mat-spinner></div>}
  </h1>


  <form [formGroup]="loginForm" aria-labelledby="login-header">
    <div>
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Username</mat-label>
        <input matInput placeholder="Username" [formControl]="loginForm.controls.username" required />
        @if (
        loginForm.controls.username.touched &&
        loginForm.controls.username.hasError('required')
        ) {
        <p class="mt-1 text-sm text-red-500" role="alert">
          Username is required.
        </p>
        }
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Password</mat-label>
        <input matInput [type]="hidePassword() ? 'password' : 'text'" [formControl]="loginForm.controls.password"
          required />
        @if (
        loginForm.controls.password.touched &&
        loginForm.controls.password.hasError('required')
        ) {
        <p class="mt-1 text-sm text-red-500" role="alert">
          Password is required.
        </p>
        }
        <button matIconButton matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hidePassword()">
          <mat-icon>{{hidePassword() ? 'visibility_off' : 'visibility'}}</mat-icon>
        </button>
      </mat-form-field>
    </div>


    <button (click)="submitForm()" matButton="filled" [disabled]="loginForm.invalid" class="w-full">
      Login
    </button>

    <div class="flex flex-col gap-5 text-center">
      <p class="mt-4 text-center text-sm text-gray-600">
        Don't have an account?
        <a [routerLink]="['/auth/register']" class="font-medium text-indigo-600 hover:text-indigo-500">
          Register here
        </a>
      </p>

      <p>
        You can use <strong>test_user</strong> / <strong>1234Test!</strong> to login as a demo account.
      </p>
    </div>


    @if (loginError()) {
    <p class="p-3  mt-4 bg-red-100 text-red-700 border border-red-400 rounded-lg" role="alert">
      {{ loginError() }}
    </p>
    }
  </form>
</div>